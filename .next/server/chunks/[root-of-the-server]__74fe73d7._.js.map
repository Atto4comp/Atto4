{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/api/video-common.ts"],"sourcesContent":["// lib/api/video-common.ts\nimport axios from 'axios';\n\n/**\n * Shared utilities, types and helpers for video APIs\n */\n\nexport interface VideoSource {\n  url: string;\n  quality: string;\n  type: \"iframe\";\n  servers: string;\n  tmdbId: number;\n  mediaType: \"movie\" | \"tv\";\n  season?: number;\n  episode?: number;\n  title?: string;\n  episodeTitle?: string;\n  responseTime?: number;\n  working?: boolean;\n  error?: string;\n  provider?: string;\n}\n\nexport interface VideoProvider {\n  name: string;\n  value: string;\n  priority: number;\n  mediaTypes: (\"movie\" | \"tv\")[];\n  isTemplate: boolean;\n  hostname: string;\n}\n\nexport interface EmbedCheckResponse {\n  success: boolean;\n  workingUrl?: {\n    provider: string;\n    url: string;\n    originalUrl: string;\n    type: string;\n  } | null;\n  totalTested: number;\n  workingCount: number;\n  allUrls: Array<{\n    provider: string;\n    url: string;\n    originalUrl: string;\n    type: string;\n    working: boolean;\n    responseTime?: number;\n    error?: string;\n  }>;\n  metadata: {\n    mediaType: string;\n    tmdbId: number;\n    season?: number;\n    episode?: number;\n    tested: boolean;\n    timestamp: string;\n  };\n}\n\n/** Shared ENV (generic fallback providers) */\nexport const COMMON_ENV = {\n  BASE: (process.env.NEXT_PUBLIC_VIDEO_API_BASE || \"\").trim(),\n  E1: (process.env.NEXT_PUBLIC_VIDEO_EMBED_1 || \"\").trim(),\n  E2: (process.env.NEXT_PUBLIC_VIDEO_EMBED_2 || \"\").trim(),\n  E3: (process.env.NEXT_PUBLIC_VIDEO_EMBED_3 || \"\").trim(),\n  E4: (process.env.NEXT_PUBLIC_VIDEO_EMBED_4 || \"\").trim(),\n  TMDB_API_KEY: (process.env.NEXT_PUBLIC_TMDB_API_KEY || \"\").trim()\n};\n\nexport const EXTRA_PARAMS = (process.env.NEXT_PUBLIC_VIDEO_URL_PARAMS || \"\").trim();\n\n/** Helpers */\nfunction isTemplateLocal(url?: string) {\n  if (!url) return false;\n  return /\\$\\{(id|type|season|episode)\\}/.test(url);\n}\n\nexport function getServerLabel(url: string): string {\n  if (!url) return 'Unknown Server';\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname.replace(/^www\\./, '');\n  } catch {\n    return 'Unknown Server';\n  }\n}\n\nexport function normalizeBase(url: string) {\n  if (!url) return '';\n  return url.endsWith('/') ? url.slice(0, -1) : url;\n}\n\nexport function appendParams(url: string, params: string) {\n  if (!params) return url;\n  return url + (url.includes('?') ? '&' : '?') + params;\n}\n\nexport function buildEmbedPath(mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number) {\n  if (mediaType === 'movie') return `/movie/${tmdbId}`;\n  if (mediaType === 'tv') {\n    if (season && episode) return `/tv/${tmdbId}/${season}/${episode}`;\n    return `/tv/${tmdbId}`;\n  }\n  throw new Error('invalid mediaType');\n}\n\nexport function buildRawUrl(providerValue: string, mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number) {\n  if (!providerValue) throw new Error('providerValue required');\n  if (isTemplateLocal(providerValue)) {\n    return providerValue\n      .replace(/\\$\\{id\\}/g, String(tmdbId))\n      .replace(/\\$\\{type\\}/g, mediaType)\n      .replace(/\\$\\{season\\}/g, String(season || 1))\n      .replace(/\\$\\{episode\\}/g, String(episode || 1));\n  }\n  const base = normalizeBase(providerValue);\n  const path = buildEmbedPath(mediaType, tmdbId, season, episode);\n  return `${base}${path}`;\n}\n\nexport function buildEmbedUrl(providerValue: string, mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number) {\n  const raw = buildRawUrl(providerValue, mediaType, tmdbId, season, episode);\n  return appendParams(raw, EXTRA_PARAMS);\n}\n\nexport function getEmbedUrlCandidatesFromProviders(providers: VideoProvider[], mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number) {\n  const urls = providers.map(p => buildEmbedUrl(p.value, mediaType, tmdbId, season, episode));\n  return [...new Set(urls)];\n}\n\n/** Fallback provider list built from COMMON_ENV (used if module-specific providers are missing) */\nexport const COMMON_PROVIDERS: VideoProvider[] = [\n  { name: 'Primary', value: COMMON_ENV.E1, priority: 1, mediaTypes: ['movie','tv'], isTemplate: isTemplateLocal(COMMON_ENV.E1), hostname: getServerLabel(COMMON_ENV.E1) },\n  { name: 'Secondary', value: COMMON_ENV.E2, priority: 2, mediaTypes: ['movie','tv'], isTemplate: isTemplateLocal(COMMON_ENV.E2), hostname: getServerLabel(COMMON_ENV.E2) },\n  { name: 'Tertiary', value: COMMON_ENV.E3, priority: 3, mediaTypes: ['movie','tv'], isTemplate: isTemplateLocal(COMMON_ENV.E3), hostname: getServerLabel(COMMON_ENV.E3) },\n  { name: 'Backup', value: COMMON_ENV.E4, priority: 4, mediaTypes: ['movie','tv'], isTemplate: isTemplateLocal(COMMON_ENV.E4), hostname: getServerLabel(COMMON_ENV.E4) },\n  { name: 'Base', value: COMMON_ENV.BASE, priority: 5, mediaTypes: ['movie','tv'], isTemplate: isTemplateLocal(COMMON_ENV.BASE), hostname: getServerLabel(COMMON_ENV.BASE) }\n].filter(p => !!p.value);\n\n/** checkEmbedUrls helper (client convenience: calls your /api/check-embed route) */\nexport async function checkEmbedUrls(mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number, testUrls: boolean = true): Promise<EmbedCheckResponse | null> {\n  try {\n    const res = await fetch('/api/check-embed', {\n      method: 'POST',\n      headers: {'content-type':'application/json'},\n      body: JSON.stringify({ mediaType, tmdbId, season, episode, testUrls })\n    });\n    if (!res.ok) return null;\n    const payload = await res.json();\n    return payload as EmbedCheckResponse;\n  } catch (err) {\n    console.error('checkEmbedUrls error', err);\n    return null;\n  }\n}\n\n/** resolveTmdbId helper (numeric or imdb -> tmdb) */\nexport async function resolveTmdbId(input: string | number, type: \"movie\" | \"tv\"): Promise<number | null> {\n  if (typeof input === 'number' && Number.isFinite(input)) return input;\n  const s = String(input).trim();\n  if (!s) return null;\n  const asNum = Number(s);\n  if (Number.isFinite(asNum)) return asNum;\n  if (/^tt\\d+$/i.test(s)) {\n    if (!COMMON_ENV.TMDB_API_KEY) return null;\n    try {\n      const { data } = await axios.get(`https://api.themoviedb.org/3/find/${s}`, {\n        params: { api_key: COMMON_ENV.TMDB_API_KEY, external_source: 'imdb_id' },\n        timeout: 5000\n      });\n      const results = type === 'movie' ? data.movie_results : data.tv_results;\n      return results?.[0]?.id ?? null;\n    } catch (err) {\n      console.warn('resolveTmdbId failed', err);\n      return null;\n    }\n  }\n  return null;\n}\n\n/** create VideoSource object */\nexport function createVideoSourceFromProvider(provider: VideoProvider, mediaType: \"movie\" | \"tv\", tmdbId: number, season?: number, episode?: number, additional: Partial<VideoSource> = {}): VideoSource {\n  const url = buildEmbedUrl(provider.value, mediaType, tmdbId, season, episode);\n  return {\n    url,\n    quality: 'HD',\n    type: 'iframe',\n    servers: `${provider.name} (${provider.hostname})`,\n    tmdbId,\n    mediaType,\n    season,\n    episode,\n    provider: provider.name,\n    ...additional\n  };\n}\n\n/** config validator */\nexport function validateConfiguration(providers: VideoProvider[] = COMMON_PROVIDERS) {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n  if (!providers || providers.length === 0) errors.push('No providers configured');\n  if (!COMMON_ENV.TMDB_API_KEY) warnings.push('TMDB API key not set (imdb resolution disabled)');\n  return { isValid: errors.length === 0, errors, warnings };\n}\n\nexport { COMMON_ENV as ENV, COMMON_PROVIDERS };\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/api/video-movie.ts"],"sourcesContent":["// lib/api/video-movie.ts\nimport axios from 'axios';\nimport {\n  VideoSource,\n  VideoProvider,\n  EmbedCheckResponse,\n  createVideoSourceFromProvider,\n  buildEmbedUrl,\n  getEmbedUrlCandidatesFromProviders,\n  resolveTmdbId,\n  checkEmbedUrls,\n  validateConfiguration,\n  getServerLabel,\n  COMMON_PROVIDERS\n} from './video-common';\n\n/**\n * Movie-specific provider/env processing.\n * Module looks for NEXT_PUBLIC_MOVIE_EMBED_1..4 and NEXT_PUBLIC_MOVIE_API_BASE\n * If not present, falls back to COMMON_PROVIDERS.\n */\n\n/** Build providers from env if present */\nfunction buildMovieProviders(): VideoProvider[] {\n  const E1 = (process.env.NEXT_PUBLIC_MOVIE_EMBED_1 || \"https://cinemaos.tech/player/${id}\").trim();\n  const E2 = (process.env.NEXT_PUBLIC_MOVIE_EMBED_2 || \"\").trim();\n  const E3 = (process.env.NEXT_PUBLIC_MOVIE_EMBED_3 || \"\").trim();\n  const E4 = (process.env.NEXT_PUBLIC_MOVIE_EMBED_4 || \"\").trim();\n  const BASE = (process.env.NEXT_PUBLIC_MOVIE_API_BASE || \"\").trim();\n\n  const items: VideoProvider[] = [\n    { name: 'Primary', value: E1, priority: 1, mediaTypes: ['movie'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E1), hostname: getServerLabel(E1) },\n    { name: 'Secondary', value: E2, priority: 2, mediaTypes: ['movie'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E2), hostname: getServerLabel(E2) },\n    { name: 'Tertiary', value: E3, priority: 3, mediaTypes: ['movie'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E3), hostname: getServerLabel(E3) },\n    { name: 'Backup', value: E4, priority: 4, mediaTypes: ['movie'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E4), hostname: getServerLabel(E4) },\n    { name: 'Base', value: BASE, priority: 5, mediaTypes: ['movie'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(BASE), hostname: getServerLabel(BASE) }\n  ].filter(p => !!p.value);\n\n  // if none specified, fall back to common providers that support movie\n  if (items.length === 0) {\n    return COMMON_PROVIDERS.filter(p => p.mediaTypes.includes('movie'));\n  }\n  return items;\n}\n\n/** Get movie providers (computed) */\nconst MOVIE_PROVIDERS = buildMovieProviders();\n\n/** Build VideoSource list for a movie */\nexport async function getMovieSources(tmdbId: number): Promise<VideoSource[]> {\n  if (!tmdbId || tmdbId <= 0) throw new Error(`Invalid movie TMDB ID: ${tmdbId}`);\n  const cfg = validateConfiguration(MOVIE_PROVIDERS);\n  if (!cfg.isValid) throw new Error('video configuration invalid: ' + cfg.errors.join('; '));\n\n  const sources = MOVIE_PROVIDERS.map(provider => {\n    const s = createVideoSourceFromProvider(provider, 'movie', tmdbId, undefined, undefined, { title: `Movie ${tmdbId}` });\n    s.servers = `${provider.name} (${provider.hostname || getServerLabel(provider.value)})`;\n    s.provider = provider.name;\n    return s;\n  });\n\n  return sources;\n}\n\n/** Test via server-side /api/check-embed (optional) and map results */\nexport async function getMovieSourcesWithTesting(tmdbId: number, testUrls: boolean = true): Promise<{\n  sources: VideoSource[];\n  workingSources: VideoSource[];\n  embedCheckData: EmbedCheckResponse | null;\n}> {\n  const sources = await getMovieSources(tmdbId);\n  if (!testUrls) return { sources, workingSources: sources, embedCheckData: null };\n\n  const check = await checkEmbedUrls('movie', tmdbId, undefined, undefined, true);\n  if (!check) return { sources, workingSources: sources, embedCheckData: null };\n\n  const workingSources = check.allUrls.filter(u => u.working).map(u => {\n    const original = sources.find(s => s.url === u.originalUrl) || sources[0];\n    return { ...original, url: u.url, working: u.working, responseTime: u.responseTime, error: u.error, provider: u.provider, servers: `${u.provider} (${u.working ? 'Working' : 'Failed'})` };\n  });\n\n  return { sources, workingSources, embedCheckData: check };\n}\n\n/** Get movie metadata + best embed (first working or first) */\nexport async function getMovieWithEmbed(tmdbIdInput: number | string, testUrls: boolean = true) {\n  const tmdbId = await resolveTmdbId(tmdbIdInput, 'movie');\n  if (!tmdbId) throw new Error('unresolvable tmdb id');\n\n  // fetch TMDB metadata (optional)\n  const API_KEY = process.env.NEXT_PUBLIC_TMDB_API_KEY?.trim();\n  const movieResp = API_KEY ? await axios.get(`https://api.themoviedb.org/3/movie/${tmdbId}`, { params: { api_key: API_KEY }, timeout: 10000 }).catch(()=>({data:null})) : { data: null };\n\n  const { sources, workingSources, embedCheckData } = await getMovieSourcesWithTesting(tmdbId, testUrls);\n\n  if (movieResp?.data?.title) {\n    sources.forEach(s => s.title = movieResp.data.title);\n    workingSources.forEach(s => s.title = movieResp.data.title);\n  }\n\n  const embedUrl = workingSources[0]?.url || sources[0]?.url || '';\n\n  return {\n    movie: movieResp?.data,\n    embedUrl,\n    sources,\n    workingSources,\n    embedCheckData,\n    metadata: {\n      tmdbId,\n      mediaType: 'movie' as const,\n      title: movieResp?.data?.title,\n      sourcesAvailable: sources.length,\n      workingSourcesCount: workingSources.length,\n      tested: testUrls,\n      timestamp: new Date().toISOString()\n    }\n  };\n}\n\n/** Helpers */\nexport function getMovieEmbedCandidates(tmdbId: number) {\n  return getEmbedUrlCandidatesFromProviders(MOVIE_PROVIDERS, 'movie', tmdbId);\n}\n\nexport const movieVideoApi = {\n  getMovieSources,\n  getMovieSourcesWithTesting,\n  getMovieWithEmbed,\n  getMovieEmbedCandidates\n};\n\nexport default movieVideoApi;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/api/video-tv.ts"],"sourcesContent":["// lib/api/video-tv.ts\nimport axios from 'axios';\nimport {\n  VideoSource,\n  VideoProvider,\n  EmbedCheckResponse,\n  createVideoSourceFromProvider,\n  getEmbedUrlCandidatesFromProviders,\n  resolveTmdbId,\n  checkEmbedUrls,\n  validateConfiguration,\n  getServerLabel,\n  COMMON_PROVIDERS\n} from './video-common';\n\n/** Build TV providers from env (module-level) */\nfunction buildTVProviders(): VideoProvider[] {\n  const E1 = (process.env.NEXT_PUBLIC_TV_EMBED_1 || \"https://cinemaos.tech/player/${id}/${season}/${episode}\").trim();\n  const E2 = (process.env.NEXT_PUBLIC_TV_EMBED_2 || \"\").trim();\n  const E3 = (process.env.NEXT_PUBLIC_TV_EMBED_3 || \"\").trim();\n  const E4 = (process.env.NEXT_PUBLIC_TV_EMBED_4 || \"\").trim();\n  const BASE = (process.env.NEXT_PUBLIC_TV_API_BASE || \"\").trim();\n\n  const items: VideoProvider[] = [\n    { name: 'Primary', value: E1, priority: 1, mediaTypes: ['tv'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E1), hostname: getServerLabel(E1) },\n    { name: 'Secondary', value: E2, priority: 2, mediaTypes: ['tv'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E2), hostname: getServerLabel(E2) },\n    { name: 'Tertiary', value: E3, priority: 3, mediaTypes: ['tv'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E3), hostname: getServerLabel(E3) },\n    { name: 'Backup', value: E4, priority: 4, mediaTypes: ['tv'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(E4), hostname: getServerLabel(E4) },\n    { name: 'Base', value: BASE, priority: 5, mediaTypes: ['tv'], isTemplate: /\\$\\{(id|type|season|episode)\\}/.test(BASE), hostname: getServerLabel(BASE) }\n  ].filter(p => !!p.value);\n\n  if (items.length === 0) {\n    return COMMON_PROVIDERS.filter(p => p.mediaTypes.includes('tv'));\n  }\n  return items;\n}\n\nconst TV_PROVIDERS = buildTVProviders();\n\n/** Get TV sources for a given S/E */\nexport async function getTVSources(tmdbId: number, season?: number, episode?: number): Promise<VideoSource[]> {\n  if (!tmdbId || tmdbId <= 0) throw new Error(`Invalid TV TMDB ID: ${tmdbId}`);\n  const sNum = season || 1;\n  const eNum = episode || 1;\n\n  const cfg = validateConfiguration(TV_PROVIDERS);\n  if (!cfg.isValid) throw new Error('video configuration invalid: ' + cfg.errors.join('; '));\n\n  const sources = TV_PROVIDERS.map(provider => {\n    const src = createVideoSourceFromProvider(provider, 'tv', tmdbId, sNum, eNum, { title: `TV ${tmdbId}`, episodeTitle: `S${sNum}E${eNum}` });\n    src.servers = `${provider.name} (${provider.hostname || getServerLabel(provider.value)})`;\n    src.provider = provider.name;\n    return src;\n  });\n\n  return sources;\n}\n\n/** Test via /api/check-embed and map results */\nexport async function getTVSourcesWithTesting(tmdbId: number, season?: number, episode?: number, testUrls: boolean = true) {\n  const sources = await getTVSources(tmdbId, season, episode);\n  if (!testUrls) return { sources, workingSources: sources, embedCheckData: null as EmbedCheckResponse | null };\n\n  const check = await checkEmbedUrls('tv', tmdbId, season, episode, true);\n  if (!check) return { sources, workingSources: sources, embedCheckData: null };\n\n  const workingSources = check.allUrls.filter(u => u.working).map(u => {\n    const original = sources.find(s => s.url === u.originalUrl) || sources[0];\n    return { ...original, url: u.url, working: u.working, responseTime: u.responseTime, error: u.error, provider: u.provider, servers: `${u.provider} (${u.working ? 'Working' : 'Failed'})` };\n  });\n\n  return { sources, workingSources, embedCheckData: check };\n}\n\n/** Get episode / tv metadata + embed selection */\nexport async function getTVShowWithEmbed(tmdbIdInput: number | string, season?: number, episode?: number, testUrls: boolean = true) {\n  const tmdbId = await resolveTmdbId(tmdbIdInput, 'tv');\n  if (!tmdbId) throw new Error('unresolvable tmdb id');\n\n  const sNum = season || 1;\n  const eNum = episode || 1;\n\n  // optionally fetch tv/episode metadata (if api key present)\n  const API_KEY = process.env.NEXT_PUBLIC_TMDB_API_KEY?.trim();\n  let tvInfo: any = null;\n  if (API_KEY) {\n    try {\n      const [ep, seas, show] = await Promise.all([\n        axios.get(`https://api.themoviedb.org/3/tv/${tmdbId}/season/${sNum}/episode/${eNum}`, { params: { api_key: API_KEY }, timeout: 8000 }).catch(()=>({data:null})),\n        axios.get(`https://api.themoviedb.org/3/tv/${tmdbId}/season/${sNum}`, { params: { api_key: API_KEY }, timeout: 8000 }).catch(()=>({data:null})),\n        axios.get(`https://api.themoviedb.org/3/tv/${tmdbId}`, { params: { api_key: API_KEY }, timeout: 8000 }).catch(()=>({data:null}))\n      ]);\n      tvInfo = { episode: ep.data, season: seas.data, show: show.data };\n    } catch (err) {\n      tvInfo = null;\n    }\n  }\n\n  const { sources, workingSources, embedCheckData } = await getTVSourcesWithTesting(tmdbId, sNum, eNum, testUrls);\n\n  if (tvInfo?.show?.name || tvInfo?.episode?.name) {\n    const showTitle = tvInfo.show?.name;\n    const episodeTitle = tvInfo.episode?.name;\n    sources.forEach(s => { s.title = showTitle; s.episodeTitle = episodeTitle || `S${sNum}E${eNum}`; });\n    workingSources.forEach(s => { s.title = showTitle; s.episodeTitle = episodeTitle || `S${sNum}E${eNum}`; });\n  }\n\n  const embedUrl = workingSources[0]?.url || sources[0]?.url || '';\n\n  return {\n    tvShow: tvInfo?.show,\n    episode: tvInfo?.episode,\n    season: tvInfo?.season,\n    embedUrl,\n    sources,\n    workingSources,\n    embedCheckData,\n    metadata: {\n      tmdbId,\n      mediaType: 'tv' as const,\n      season: sNum,\n      episode: eNum,\n      title: tvInfo?.show?.name,\n      episodeTitle: tvInfo?.episode?.name,\n      tested: testUrls,\n      timestamp: new Date().toISOString(),\n      sourcesAvailable: sources.length,\n      workingSourcesCount: workingSources.length\n    }\n  };\n}\n\n/** Helpers */\nexport function getTVEmbedCandidates(tmdbId: number, season?: number, episode?: number) {\n  return getEmbedUrlCandidatesFromProviders(TV_PROVIDERS, 'tv', tmdbId, season, episode);\n}\n\nexport const tvVideoApi = {\n  getTVSources,\n  getTVSourcesWithTesting,\n  getTVShowWithEmbed,\n  getTVEmbedCandidates\n};\n\nexport default tvVideoApi;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/api/video-api.ts"],"sourcesContent":["// lib/api/video-api.ts\n/**\n * Backwards-compatible shim that delegates to movie/tv APIs.\n * Prefer importing movieVideoApi or tvVideoApi directly from video-movie / video-tv.\n */\n\nexport * from './video-common';\nexport * from './video-movie';\nexport * from './video-tv';\n\nimport * as movieModule from './video-movie';\nimport * as tvModule from './video-tv';\nimport * as commonModule from './video-common';\n\nfunction fnOrFallback(maybeFn: any, fallback: any) {\n  return typeof maybeFn === 'function' ? maybeFn : fallback;\n}\n\nconst noopAsync = async (..._args: any[]) => null;\nconst returnEmptyArray = async (..._args: any[]) => [];\nconst returnFalse = () => false;\nconst returnEmptyObject = () => ({});\nconst returnEmptyString = () => \"\";\n\nconst movie = {\n  getMovieSources: fnOrFallback(movieModule.getMovieSources, returnEmptyArray),\n  getMovieSourcesWithTesting: fnOrFallback(movieModule.getMovieSourcesWithTesting, movieModule.getMovieSources ?? returnEmptyArray),\n  getMovieWithEmbed: fnOrFallback(movieModule.getMovieWithEmbed, noopAsync),\n  getMovieEmbedCandidates: fnOrFallback(movieModule.getMovieEmbedCandidates, (id:number) => (commonModule.getEmbedUrlCandidatesFromProviders ? commonModule.getEmbedUrlCandidatesFromProviders((commonModule as any).COMMON_PROVIDERS || [], 'movie', id) : [])),\n  hasMovieSourcesConfigured: fnOrFallback((movieModule as any).hasMovieProviders ?? (() => false), () => false),\n};\n\nconst tv = {\n  getTVSources: fnOrFallback(tvModule.getTVSources, returnEmptyArray),\n  getTVSourcesWithTesting: fnOrFallback(tvModule.getTVSourcesWithTesting, tvModule.getTVSources ?? returnEmptyArray),\n  getTVShowWithEmbed: fnOrFallback(tvModule.getTVShowWithEmbed, noopAsync),\n  getTVEmbedCandidates: fnOrFallback(tvModule.getTVEmbedCandidates, (id:number,s?:number,e?:number) => (commonModule.getEmbedUrlCandidatesFromProviders ? commonModule.getEmbedUrlCandidatesFromProviders((commonModule as any).COMMON_PROVIDERS || [], 'tv', id, s, e) : [])),\n  hasTVSourcesConfigured: fnOrFallback((tvModule as any).hasTVProviders ?? (() => false), () => false),\n};\n\nconst common = {\n  getEmbedUrlCandidatesFromProviders: fnOrFallback((commonModule as any).getEmbedUrlCandidatesFromProviders, () => []),\n  checkEmbedUrls: fnOrFallback((commonModule as any).checkEmbedUrls, async () => null),\n  getConfigurationStatus: fnOrFallback((commonModule as any).getConfigurationStatus ?? (() => ({})), () => ({})),\n  validateConfiguration: fnOrFallback((commonModule as any).validateConfiguration ?? (() => ({ isValid:false, errors:[], warnings:[] })), () => ({ isValid:false, errors:[], warnings:[] })),\n  VIDEO_PROVIDERS: (commonModule as any).COMMON_PROVIDERS || []\n};\n\nexport const videoApi = {\n  async getMovieSources(tmdbId: number) { return movie.getMovieSources(tmdbId); },\n  async getMovieSourcesWithTesting(tmdbId: number) { return movie.getMovieSourcesWithTesting(tmdbId); },\n  async getMovieWithEmbed(tmdbId: number) { return movie.getMovieWithEmbed(tmdbId); },\n\n  async getTVSources(tmdbId: number, season?: number, episode?: number) { return tv.getTVSources(tmdbId, season, episode); },\n  async getTVSourcesWithTesting(tmdbId: number, season?: number, episode?: number) { return tv.getTVSourcesWithTesting(tmdbId, season, episode); },\n  async getTVShowWithEmbed(tmdbId: number, season?: number, episode?: number) { return tv.getTVShowWithEmbed(tmdbId, season, episode); },\n\n  hasConfiguredApis() { return Array.isArray(common.VIDEO_PROVIDERS) && common.VIDEO_PROVIDERS.length > 0; },\n  getConfigStatus() { return common.getConfigurationStatus(); },\n  getEmbedUrlCandidates(mediaType: 'movie'|'tv', tmdbId: number, season?: number, episode?: number) { return common.getEmbedUrlCandidatesFromProviders(common.VIDEO_PROVIDERS || [], mediaType, tmdbId, season, episode); },\n  logConfiguration() { if (typeof (commonModule as any).logConfiguration === 'function') (commonModule as any).logConfiguration(); },\n\n  movie,\n  tv,\n  common\n};\n\nexport default videoApi;\n\n/** Named legacy exports */\nexport const getMovieSources = movie.getMovieSources;\nexport const getMovieSourcesWithTesting = movie.getMovieSourcesWithTesting;\nexport const getMovieWithEmbed = movie.getMovieWithEmbed;\nexport const getTVSources = tv.getTVSources;\nexport const getTVSourcesWithTesting = tv.getTVSourcesWithTesting;\nexport const getTVShowWithEmbed = tv.getTVShowWithEmbed;\nexport const checkEmbedUrls = common.checkEmbedUrls;\nexport const VIDEO_PROVIDERS = common.VIDEO_PROVIDERS;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 901, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/app/api/check-embed/route.ts"],"sourcesContent":["// app/api/check-embed/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getEmbedUrlCandidatesFromProviders, COMMON_PROVIDERS } from '@/lib/api/video-common';\nimport { videoApi } from '@/lib/api/video-api'; // optional if you want to fall back to shim\n\ninterface CheckEmbedRequest {\n  mediaType: 'movie' | 'tv';\n  tmdbId: number;\n  season?: number;\n  episode?: number;\n  testUrls?: boolean;\n}\n\nexport async function POST(request: NextRequest) {\n  console.log('üöÄ Check-embed API called');\n\n  try {\n    // Safe JSON parsing\n    let body: CheckEmbedRequest;\n    try {\n      const text = await request.text();\n      if (!text.trim()) {\n        return NextResponse.json({\n          success: false,\n          error: 'Empty request body',\n          urls: [],\n          workingUrl: null\n        });\n      }\n      body = JSON.parse(text);\n    } catch (parseError) {\n      console.error('‚ùå JSON parse error:', parseError);\n      return NextResponse.json({\n        success: false,\n        error: 'Invalid JSON in request body',\n        urls: [],\n        workingUrl: null\n      });\n    }\n\n    const { mediaType, tmdbId, season, episode, testUrls = true } = body;\n\n    // Validate required fields\n    if (!mediaType || !tmdbId) {\n      return NextResponse.json({\n        success: false,\n        error: 'Missing required parameters: mediaType and tmdbId',\n        urls: [],\n        workingUrl: null\n      });\n    }\n\n    if (mediaType !== 'movie' && mediaType !== 'tv') {\n      return NextResponse.json({\n        success: false,\n        error: `Invalid mediaType: ${mediaType}. Must be 'movie' or 'tv'`,\n        urls: [],\n        workingUrl: null\n      });\n    }\n\n    // Generate embed URL candidates using providers from video-common\n    // We call the helper with COMMON_PROVIDERS (module supplies movie/tv filtering)\n    const providerList = COMMON_PROVIDERS;\n    const urls = getEmbedUrlCandidatesFromProviders(providerList, mediaType, tmdbId, season, episode);\n\n    console.log(`üìã Returning ${urls.length} URLs - client handles testing`);\n\n    return NextResponse.json({\n      success: true,\n      workingUrl: urls[0] || null,\n      urls,\n      total: urls.length,\n      mediaType,\n      tmdbId,\n      season,\n      episode,\n      timestamp: new Date().toISOString()\n    });\n  } catch (error) {\n    console.error('üí• Unexpected error in check-embed API:', error);\n\n    return NextResponse.json({\n      success: false,\n      error: 'Internal server error',\n      details: error instanceof Error ? error.message : 'Unknown error',\n      urls: [],\n      workingUrl: null\n    }, { status: 500 });\n  }\n}\n\nexport async function GET(request: NextRequest) {\n  console.log('üîç Check-embed GET endpoint called');\n\n  try {\n    const { searchParams } = new URL(request.url);\n    const mediaType = searchParams.get('mediaType') as 'movie' | 'tv';\n    const tmdbId = searchParams.get('tmdbId');\n    const season = searchParams.get('season');\n    const episode = searchParams.get('episode');\n\n    if (!mediaType || !tmdbId) {\n      return NextResponse.json({\n        success: false,\n        error: 'Missing required query parameters: mediaType and tmdbId',\n        urls: [],\n        workingUrl: null\n      });\n    }\n\n    const providerList = COMMON_PROVIDERS;\n    const urls = getEmbedUrlCandidatesFromProviders(\n      providerList,\n      mediaType,\n      parseInt(tmdbId),\n      season ? parseInt(season) : undefined,\n      episode ? parseInt(episode) : undefined\n    );\n\n    return NextResponse.json({\n      success: true,\n      urls,\n      workingUrl: urls[0] || null,\n      total: urls.length,\n      mediaType,\n      tmdbId: parseInt(tmdbId),\n      season: season ? parseInt(season) : undefined,\n      episode: episode ? parseInt(episode) : undefined,\n      config: (videoApi && typeof videoApi.getConfigStatus === 'function') ? videoApi.getConfigStatus() : null\n    });\n  } catch (error) {\n    return NextResponse.json({\n      success: false,\n      error: 'Failed to generate URLs',\n      details: error instanceof Error ? error.message : 'Unknown error',\n      urls: [],\n      workingUrl: null\n    });\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}