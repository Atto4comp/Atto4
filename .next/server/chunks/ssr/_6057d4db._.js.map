{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/media/HeroSection.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { ChevronLeft, ChevronRight, Play, Info } from 'lucide-react';\nimport { Movie } from '@/lib/api/types';\n\ninterface HeroSectionProps {\n  media: Movie[];\n}\n\nexport default function HeroSection({ media }: HeroSectionProps) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\n\n  const buildTmdbImage = (path: string | null, size: string = 'original'): string => {\n    if (!path) return '/placeholder-movie.jpg';\n    return `https://image.tmdb.org/t/p/${size}${path}`;\n  };\n\n  // Auto-slide\n  useEffect(() => {\n    if (!isAutoPlaying || media.length <= 1) return;\n    const interval = setInterval(() => {\n      setCurrentIndex((prev) => (prev + 1) % media.length);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [isAutoPlaying, media.length]);\n\n  const goToNext = () => {\n    setCurrentIndex((prev) => (prev + 1) % media.length);\n    setIsAutoPlaying(false);\n  };\n  const goToPrevious = () => {\n    setCurrentIndex((prev) => (prev - 1 + media.length) % media.length);\n    setIsAutoPlaying(false);\n  };\n  const goToSlide = (index: number) => {\n    setCurrentIndex(index);\n    setIsAutoPlaying(false);\n  };\n\n  if (!media || media.length === 0) return null;\n  const currentMovie = media[currentIndex];\n\n  return (\n    <div className=\"relative w-full h-[85vh] min-h-[700px] max-h-[900px] overflow-hidden\">\n      {/* Background */}\n      <div className=\"absolute inset-0\">\n        {media.map((movie, index) => (\n          <div\n            key={movie.id}\n            className={`absolute inset-0 transition-opacity duration-1500 ease-in-out ${\n              index === currentIndex ? 'opacity-100' : 'opacity-0'\n            }`}\n          >\n            <Image\n              src={buildTmdbImage(movie.backdrop_path, 'original')}\n              alt={movie.title || 'Movie backdrop'}\n              fill\n              className=\"object-cover\"\n              priority={index === 0}\n              sizes=\"100vw\"\n              quality={100}\n            />\n          </div>\n        ))}\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent\" />\n        <div className=\"absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-t from-black/90 to-transparent\" />\n      </div>\n\n      {/* Arrows */}\n      {media.length > 1 && (\n        <>\n          <button\n            onClick={goToPrevious}\n            className=\"absolute left-6 top-1/2 -translate-y-1/2 z-20 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full transition\"\n          >\n            <ChevronLeft className=\"w-6 h-6\" />\n          </button>\n          <button\n            onClick={goToNext}\n            className=\"absolute right-6 top-1/2 -translate-y-1/2 z-20 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full transition\"\n          >\n            <ChevronRight className=\"w-6 h-6\" />\n          </button>\n        </>\n      )}\n\n      {/* Content bottom-left */}\n      <div className=\"relative z-10 h-full flex items-end\">\n        <div className=\"max-w-3xl px-10 pb-32\">\n          <h1 className=\"text-5xl sm:text-6xl lg:text-7xl font-extrabold text-white leading-tight mb-6 drop-shadow-lg\">\n            {currentMovie.title}\n          </h1>\n\n          {/* Meta */}\n          <div className=\"flex items-center gap-3 text-sm mb-5\">\n            {currentMovie.release_date && (\n              <span className=\"bg-gray-800/70 px-3 py-1 rounded-full text-xs\">\n                {new Date(currentMovie.release_date).getFullYear()}\n              </span>\n            )}\n            {currentMovie.vote_average && (\n              <div className=\"flex items-center gap-1 bg-neutral-900/90 text-white px-3 py-1 rounded-full text-xs font-bold\">\n                <span>‚≠ê</span>\n                <span>{currentMovie.vote_average.toFixed(1)}</span>\n              </div>\n            )}\n          </div>\n\n          {/* Overview */}\n          {currentMovie.overview && (\n            <p className=\"text-gray-200 text-base leading-relaxed line-clamp-3 max-w-xl mb-7 drop-shadow-md\">\n              {currentMovie.overview}\n            </p>\n          )}\n\n          {/* Buttons (2 only, centered & aligned) */}\n          <div className=\"flex gap-4\">\n            <Link\n              href={`/watch/movie/${currentMovie.id}`}\n              className=\"inline-flex items-center gap-2 bg-white hover:bg-gray-200 text-black font-semibold px-8 py-3 rounded-md transition-all text-base shadow-md\"\n            >\n              <Play className=\"w-5 h-5 fill-current\" />\n              Watch Now\n            </Link>\n            <Link\n              href={`/movie/${currentMovie.id}`}\n              className=\"inline-flex items-center gap-2 bg-black/50 hover:bg-black/70 text-white font-medium px-8 py-3 rounded-md transition-all text-base\"\n            >\n              <Info className=\"w-5 h-5\" />\n              More Info\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      {/* Dots */}\n      {media.length > 1 && (\n        <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 z-20\">\n          <div className=\"flex items-center gap-2\">\n            {media.map((_, index) => (\n              <button\n                key={index}\n                onClick={() => goToSlide(index)}\n                className={`w-2.5 h-2.5 rounded-full transition ${\n                  index === currentIndex\n                    ? 'bg-white scale-125'\n                    : 'bg-white/50 hover:bg-white/75'\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/storage/watchlist.ts"],"sourcesContent":["'use client';\n\n// Types for watchlist and liked items\nexport interface WatchlistItem {\n  id: number;\n  title: string;\n  name?: string;\n  poster_path: string | null;\n  media_type: 'movie' | 'tv';\n  vote_average: number;\n  release_date?: string;\n  first_air_date?: string;\n  dateAdded: string;\n}\n\n// Watchlist functions\nexport const watchlistStorage = {\n  getWatchlist: (): WatchlistItem[] => {\n    if (typeof window === 'undefined') return [];\n    try {\n      const watchlist = localStorage.getItem('bradfilx_watchlist');\n      return watchlist ? JSON.parse(watchlist) : [];\n    } catch (error) {\n      console.error('Error getting watchlist:', error);\n      return [];\n    }\n  },\n\n  addToWatchlist: (item: Omit<WatchlistItem, 'dateAdded'>): boolean => {\n    if (typeof window === 'undefined') return false;\n    try {\n      const watchlist = watchlistStorage.getWatchlist();\n      const exists = watchlist.some(w => w.id === item.id && w.media_type === item.media_type);\n      \n      if (!exists) {\n        const newItem: WatchlistItem = {\n          ...item,\n          dateAdded: new Date().toISOString()\n        };\n        watchlist.unshift(newItem); // Add to beginning\n        localStorage.setItem('bradfilx_watchlist', JSON.stringify(watchlist));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding to watchlist:', error);\n      return false;\n    }\n  },\n\n  removeFromWatchlist: (id: number, mediaType: 'movie' | 'tv'): boolean => {\n    if (typeof window === 'undefined') return false;\n    try {\n      const watchlist = watchlistStorage.getWatchlist();\n      const filtered = watchlist.filter(item => !(item.id === id && item.media_type === mediaType));\n      localStorage.setItem('bradfilx_watchlist', JSON.stringify(filtered));\n      return true;\n    } catch (error) {\n      console.error('Error removing from watchlist:', error);\n      return false;\n    }\n  },\n\n  isInWatchlist: (id: number, mediaType: 'movie' | 'tv'): boolean => {\n    if (typeof window === 'undefined') return false;\n    const watchlist = watchlistStorage.getWatchlist();\n    return watchlist.some(item => item.id === id && item.media_type === mediaType);\n  },\n\n  clearWatchlist: (): void => {\n    if (typeof window === 'undefined') return;\n    localStorage.removeItem('bradfilx_watchlist');\n  }\n};\n\n// Liked content functions\nexport const likedStorage = {\n  getLiked: (): WatchlistItem[] => {\n    if (typeof window === 'undefined') return [];\n    try {\n      const liked = localStorage.getItem('bradfilx_liked');\n      return liked ? JSON.parse(liked) : [];\n    } catch (error) {\n      console.error('Error getting liked items:', error);\n      return [];\n    }\n  },\n\n  addToLiked: (item: Omit<WatchlistItem, 'dateAdded'>): boolean => {\n    if (typeof window === 'undefined') return false;\n    try {\n      const liked = likedStorage.getLiked();\n      const exists = liked.some(l => l.id === item.id && l.media_type === item.media_type);\n      \n      if (!exists) {\n        const newItem: WatchlistItem = {\n          ...item,\n          dateAdded: new Date().toISOString()\n        };\n        liked.unshift(newItem); // Add to beginning\n        localStorage.setItem('bradfilx_liked', JSON.stringify(liked));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding to liked:', error);\n      return false;\n    }\n  },\n\n  removeFromLiked: (id: number, mediaType: 'movie' | 'tv'): boolean => {\n    if (typeof window === 'undefined') return false;\n    try {\n      const liked = likedStorage.getLiked();\n      const filtered = liked.filter(item => !(item.id === id && item.media_type === mediaType));\n      localStorage.setItem('bradfilx_liked', JSON.stringify(filtered));\n      return true;\n    } catch (error) {\n      console.error('Error removing from liked:', error);\n      return false;\n    }\n  },\n\n  isLiked: (id: number, mediaType: 'movie' | 'tv'): boolean => {\n    if (typeof window === 'undefined') return false;\n    const liked = likedStorage.getLiked();\n    return liked.some(item => item.id === id && item.media_type === mediaType);\n  },\n\n  clearLiked: (): void => {\n    if (typeof window === 'undefined') return;\n    localStorage.removeItem('bradfilx_liked');\n  }\n};\n"],"names":[],"mappings":";;;;AAAA;AAgBO,MAAM,mBAAmB;IAC9B,cAAc;QACZ,wCAAmC,OAAO,EAAE;;;IAQ9C;IAEA,gBAAgB,CAAC;QACf,wCAAmC,OAAO;;;IAmB5C;IAEA,qBAAqB,CAAC,IAAY;QAChC,wCAAmC,OAAO;;;IAU5C;IAEA,eAAe,CAAC,IAAY;QAC1B,wCAAmC,OAAO;;;QAC1C,MAAM;IAER;IAEA,gBAAgB;QACd,wCAAmC;;;IAErC;AACF;AAGO,MAAM,eAAe;IAC1B,UAAU;QACR,wCAAmC,OAAO,EAAE;;;IAQ9C;IAEA,YAAY,CAAC;QACX,wCAAmC,OAAO;;;IAmB5C;IAEA,iBAAiB,CAAC,IAAY;QAC5B,wCAAmC,OAAO;;;IAU5C;IAEA,SAAS,CAAC,IAAY;QACpB,wCAAmC,OAAO;;;QAC1C,MAAM;IAER;IAEA,YAAY;QACV,wCAAmC;;;IAErC;AACF","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/media/MediaCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Play, Plus, Heart, Info, Star } from 'lucide-react';\nimport { Movie, Genre } from '@/lib/api/types';\nimport { watchlistStorage, likedStorage } from '@/lib/storage/watchlist';\n\ninterface MediaCardProps {\n  media: Movie;\n  genres: Genre[];\n  priority?: boolean;\n  mediaType: 'movie' | 'tv';\n  isHovered?: boolean; // New prop to control hover state from parent\n}\n\nexport default function MediaCard({\n  media,\n  genres,\n  priority = false,\n  mediaType,\n  isHovered = false,\n}: MediaCardProps) {\n  const [inWatch, setInWatch] = useState(false);\n  const [liked, setLiked] = useState(false);\n\n  const img = (p: string | null, size = 'w500') =>\n    p ? `https://image.tmdb.org/t/p/${size}${p}` : '/placeholder-movie.jpg';\n\n  // Sync buttons\n  useEffect(() => {\n    setInWatch(watchlistStorage.isInWatchlist(media.id, mediaType));\n    setLiked(likedStorage.isLiked(media.id, mediaType));\n  }, [media.id, mediaType]);\n\n  const toggleWatch = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const item = {\n      id: media.id,\n      title: mediaType === 'movie' ? media.title : media.name,\n      name: mediaType === 'tv' ? media.name : undefined,\n      poster_path: media.poster_path,\n      media_type: mediaType,\n      vote_average: media.vote_average ?? 0,\n      release_date: mediaType === 'movie' ? media.release_date : undefined,\n      first_air_date: mediaType === 'tv' ? media.first_air_date : undefined,\n    };\n\n    if (inWatch) {\n      watchlistStorage.removeFromWatchlist(media.id, mediaType);\n    } else {\n      watchlistStorage.addToWatchlist(item);\n    }\n    setInWatch(!inWatch);\n    window.dispatchEvent(new CustomEvent('watchlist-updated'));\n  };\n\n  const toggleLike = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const item = {\n      id: media.id,\n      title: mediaType === 'movie' ? media.title : media.name,\n      name: mediaType === 'tv' ? media.name : undefined,\n      poster_path: media.poster_path,\n      media_type: mediaType,\n      vote_average: media.vote_average ?? 0,\n      release_date: mediaType === 'movie' ? media.release_date : undefined,\n      first_air_date: mediaType === 'tv' ? media.first_air_date : undefined,\n    };\n\n    if (liked) {\n      likedStorage.removeFromLiked(media.id, mediaType);\n    } else {\n      likedStorage.addToLiked(item);\n    }\n    setLiked(!liked);\n    window.dispatchEvent(new CustomEvent('liked-updated'));\n  };\n\n  const title = mediaType === 'movie' ? media.title : media.name;\n  const date = mediaType === 'movie' ? media.release_date : media.first_air_date;\n  const year = date ? new Date(date).getFullYear() : '-';\n\n  return (\n    <div className=\"relative w-48 cursor-pointer\">\n      <Link href={`/${mediaType}/${media.id}`}>\n        {/* Poster */}\n        <div className=\"relative aspect-[2/3] rounded-lg overflow-hidden bg-gray-800 shadow-lg transition-all duration-300\">\n          <Image\n            src={img(media.poster_path)}\n            alt={title || 'Poster'}\n            fill\n            sizes=\"200px\"\n            priority={priority}\n            className=\"object-cover\"\n          />\n\n          {/* Rating */}\n          {media.vote_average > 0 && (\n            <div className=\"absolute top-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded flex items-center gap-1 backdrop-blur-sm\">\n              <Star className=\"w-3 h-3 fill-yellow-400\" />\n              {media.vote_average.toFixed(1)}\n            </div>\n          )}\n\n          {/* Hover toolbar - Only shows when this specific card is hovered */}\n          {isHovered && (\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent flex flex-col justify-end p-4 transition-all duration-300\">\n              <div className=\"flex gap-2\">\n                {/* Play Button */}\n                <Link\n                  href={`/watch/${mediaType}/${media.id}`}\n                  className=\"w-8 h-8 bg-white text-black rounded-full flex items-center justify-center hover:scale-110 transition-transform\"\n                  title=\"Play\"\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  <Play className=\"w-4 h-4 fill-current\" />\n                </Link>\n\n                {/* Watchlist Button */}\n                <button\n                  onClick={toggleWatch}\n                  title={inWatch ? 'Remove from Watchlist' : 'Add to Watchlist'}\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-white transition-colors ${\n                    inWatch ? 'bg-green-600' : 'bg-gray-800/80 hover:bg-gray-700'\n                  }`}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                </button>\n\n                {/* Like Button */}\n                <button\n                  onClick={toggleLike}\n                  title={liked ? 'Unlike' : 'Like'}\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-white transition-colors ${\n                    liked ? 'bg-red-600' : 'bg-gray-800/80 hover:bg-gray-700'\n                  }`}\n                >\n                  <Heart className={`w-4 h-4 ${liked ? 'fill-current' : ''}`} />\n                </button>\n\n                {/* Info Button */}\n                <Link\n                  href={`/${mediaType}/${media.id}`}\n                  title=\"More Info\"\n                  onClick={(e) => e.stopPropagation()}\n                  className=\"w-8 h-8 rounded-full flex items-center justify-center bg-gray-800/80 text-white hover:bg-gray-700\"\n                >\n                  <Info className=\"w-4 h-4\" />\n                </Link>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Title */}\n        <h3 className=\"mt-3 text-sm font-medium leading-tight line-clamp-2 text-white hover:text-blue-400 transition-colors\">\n          {title}\n        </h3>\n        <p className=\"text-xs text-gray-400\">{year}</p>\n      </Link>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/media/MediaRow.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport Link from 'next/link';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Movie, Genre } from '@/lib/api/types';\nimport MediaCard from './MediaCard';\n\ninterface MediaRowProps {\n  title: string;\n  items: Movie[];\n  genres: Genre[];\n  priority?: boolean;\n  category?: string;\n  mediaType: 'movie' | 'tv';\n}\n\nexport default function MediaRow({\n  title,\n  items,\n  genres,\n  priority = false,\n  category = 'popular',\n  mediaType,\n}: MediaRowProps) {\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const [canLeft, setCanLeft] = useState(false);\n  const [canRight, setCanRight] = useState(true);\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\n\n  const scroll = (dir: 'left' | 'right') => {\n    if (!scrollRef.current) return;\n    const amt = scrollRef.current.clientWidth * 0.8;\n    scrollRef.current.scrollBy({\n      left: dir === 'right' ? amt : -amt,\n      behavior: 'smooth',\n    });\n  };\n\n  const onScroll = () => {\n    if (!scrollRef.current) return;\n    const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;\n    setCanLeft(scrollLeft > 0);\n    setCanRight(scrollLeft < scrollWidth - clientWidth - 10);\n  };\n\n  if (!items?.length) return null;\n\n  return (\n    <div className=\"relative group mb-10\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-6 px-4 sm:px-6 lg:px-8\">\n        <h2 className=\"text-2xl font-semibold text-white\">{title}</h2>\n        <Link\n          href={`/browse/${category}?type=${mediaType}`}\n          className=\"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors hover:underline\"\n        >\n          View More\n        </Link>\n      </div>\n\n      {/* Navigation Buttons */}\n      {canLeft && (\n        <button\n          onClick={() => scroll('left')}\n          className=\"absolute left-2 top-1/2 -translate-y-1/2 z-40 opacity-0 group-hover:opacity-100 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-opacity\"\n        >\n          <ChevronLeft className=\"w-6 h-6\" />\n        </button>\n      )}\n      {canRight && (\n        <button\n          onClick={() => scroll('right')}\n          className=\"absolute right-2 top-1/2 -translate-y-1/2 z-40 opacity-0 group-hover:opacity-100 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-opacity\"\n        >\n          <ChevronRight className=\"w-6 h-6\" />\n        </button>\n      )}\n\n      {/* Cards Container */}\n      <div\n        ref={scrollRef}\n        onScroll={onScroll}\n        className=\"flex space-x-6 overflow-x-auto scrollbar-hide px-4 sm:px-6 lg:px-8 pt-4 pb-8\"\n        style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n      >\n        {items.map((m, i) => (\n          <div\n            key={`${mediaType}-${m.id}-${i}`}\n            onMouseEnter={() => setHoveredIndex(i)}\n            onMouseLeave={() => setHoveredIndex(null)}\n            className={`flex-shrink-0 transition-all duration-300 transform ${\n              hoveredIndex === i ? 'scale-110 z-10' : 'scale-100 z-0'\n            }`}\n            style={{\n              transformOrigin: 'center center',\n            }}\n          >\n            <MediaCard\n              media={m}\n              genres={genres}\n              priority={priority && i < 6}\n              mediaType={mediaType}\n              isHovered={hoveredIndex === i}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAEA;AANA;;;;;;AAiBe,SAAS,SAAS,EAC/B,KAAK,EACL,KAAK,EACL,MAAM,EACN,WAAW,KAAK,EAChB,WAAW,SAAS,EACpB,SAAS,EACK;IACd,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,MAAM,SAAS,CAAC;QACd,IAAI,CAAC,UAAU,OAAO,EAAE;QACxB,MAAM,MAAM,UAAU,OAAO,CAAC,WAAW,GAAG;QAC5C,UAAU,OAAO,CAAC,QAAQ,CAAC;YACzB,MAAM,QAAQ,UAAU,MAAM,CAAC;YAC/B,UAAU;QACZ;IACF;IAEA,MAAM,WAAW;QACf,IAAI,CAAC,UAAU,OAAO,EAAE;QACxB,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,UAAU,OAAO;QAClE,WAAW,aAAa;QACxB,YAAY,aAAa,cAAc,cAAc;IACvD;IAEA,IAAI,CAAC,OAAO,QAAQ,OAAO;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAM,CAAC,QAAQ,EAAE,SAAS,MAAM,EAAE,WAAW;wBAC7C,WAAU;kCACX;;;;;;;;;;;;YAMF,yBACC,8OAAC;gBACC,SAAS,IAAM,OAAO;gBACtB,WAAU;0BAEV,cAAA,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;YAG1B,0BACC,8OAAC;gBACC,SAAS,IAAM,OAAO;gBACtB,WAAU;0BAEV,cAAA,8OAAC,sNAAA,CAAA,eAAY;oBAAC,WAAU;;;;;;;;;;;0BAK5B,8OAAC;gBACC,KAAK;gBACL,UAAU;gBACV,WAAU;gBACV,OAAO;oBAAE,gBAAgB;oBAAQ,iBAAiB;gBAAO;0BAExD,MAAM,GAAG,CAAC,CAAC,GAAG,kBACb,8OAAC;wBAEC,cAAc,IAAM,gBAAgB;wBACpC,cAAc,IAAM,gBAAgB;wBACpC,WAAW,CAAC,oDAAoD,EAC9D,iBAAiB,IAAI,mBAAmB,iBACxC;wBACF,OAAO;4BACL,iBAAiB;wBACnB;kCAEA,cAAA,8OAAC,iIAAA,CAAA,UAAS;4BACR,OAAO;4BACP,QAAQ;4BACR,UAAU,YAAY,IAAI;4BAC1B,WAAW;4BACX,WAAW,iBAAiB;;;;;;uBAfzB,GAAG,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG;;;;;;;;;;;;;;;;AAsB5C","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/media/WatchlistRow.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { ChevronLeft, ChevronRight, X, Calendar, Star } from 'lucide-react';\nimport { watchlistStorage, WatchlistItem } from '@/lib/storage/watchlist';\n\nexport default function WatchlistRow() {\n  const [watchlist, setWatchlist] = useState<WatchlistItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Helper function to build TMDB image URLs\n  const buildTmdbImage = (path: string | null, size: string = 'w500'): string => {\n    if (!path) return '/placeholder-movie.jpg';\n    return `https://image.tmdb.org/t/p/${size}${path}`;\n  };\n\n  // Load watchlist on component mount\n  useEffect(() => {\n    const loadWatchlist = () => {\n      const items = watchlistStorage.getWatchlist();\n      setWatchlist(items);\n      setLoading(false);\n    };\n\n    loadWatchlist();\n\n    // Listen for storage changes (when items are added/removed)\n    const handleStorageChange = () => {\n      loadWatchlist();\n    };\n\n    window.addEventListener('watchlist-updated', handleStorageChange);\n    return () => window.removeEventListener('watchlist-updated', handleStorageChange);\n  }, []);\n\n  // Remove from watchlist\n  const handleRemove = (id: number, mediaType: 'movie' | 'tv', event: React.MouseEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    watchlistStorage.removeFromWatchlist(id, mediaType);\n    setWatchlist(prev => prev.filter(item => !(item.id === id && item.media_type === mediaType)));\n    \n    // Dispatch custom event\n    window.dispatchEvent(new CustomEvent('watchlist-updated'));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"mb-10\">\n        <div className=\"px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-semibold text-white\">My Watchlist</h2>\n          </div>\n          <div className=\"flex space-x-6 overflow-x-auto scrollbar-hide\">\n            {Array.from({ length: 8 }).map((_, i) => (\n              <div key={i} className=\"flex-shrink-0 w-48 animate-pulse\">\n                <div className=\"aspect-[2/3] bg-gray-800 rounded-lg mb-3\"></div>\n                <div className=\"h-4 bg-gray-800 rounded mb-2\"></div>\n                <div className=\"h-3 bg-gray-800 rounded w-2/3\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (watchlist.length === 0) {\n    return (\n      <div className=\"mb-10\">\n        <div className=\"px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-semibold text-white\">My Watchlist</h2>\n          </div>\n          <div className=\"text-center py-12\">\n            <div className=\"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Calendar className=\"w-8 h-8 text-gray-600\" />\n            </div>\n            <h3 className=\"text-lg font-medium text-white mb-2\">Your watchlist is empty</h3>\n            <p className=\"text-gray-400\">Add movies and TV shows to your watchlist to see them here</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative group mb-10\">\n      <div className=\"px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-semibold text-white\">My Watchlist</h2>\n          <span className=\"text-sm text-gray-400\">{watchlist.length} item{watchlist.length !== 1 ? 's' : ''}</span>\n        </div>\n\n        <div className=\"flex space-x-6 overflow-x-auto scrollbar-hide pb-4\">\n          {watchlist.map((item) => {\n            const title = item.media_type === 'movie' ? item.title : item.name;\n            const releaseDate = item.media_type === 'movie' ? item.release_date : item.first_air_date;\n            const year = releaseDate ? new Date(releaseDate).getFullYear() : null;\n\n            return (\n              <div key={`${item.media_type}-${item.id}`} className=\"flex-shrink-0 w-48 group/item\">\n                <Link href={`/${item.media_type}/${item.id}`} className=\"block\">\n                  <div className=\"relative aspect-[2/3] rounded-lg overflow-hidden bg-gray-800 shadow-lg group-hover/item:shadow-2xl transition-all duration-300 group-hover/item:scale-105\">\n                    <Image\n                      src={buildTmdbImage(item.poster_path, 'w500')}\n                      alt={title || 'Poster'}\n                      fill\n                      className=\"object-cover\"\n                      sizes=\"200px\"\n                    />\n\n                    {/* Remove Button */}\n                    <button\n                      onClick={(e) => handleRemove(item.id, item.media_type, e)}\n                      className=\"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full opacity-0 group-hover/item:opacity-100 transition-opacity duration-200 z-10\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n\n                    {/* Rating Badge */}\n                    {item.vote_average > 0 && (\n                      <div className=\"absolute top-2 left-2 bg-black/80 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1\">\n                        <Star className=\"w-3 h-3 text-yellow-400 fill-current\" />\n                        <span>{item.vote_average.toFixed(1)}</span>\n                      </div>\n                    )}\n\n                    {/* Media Type Badge */}\n                    <div className=\"absolute bottom-2 left-2 bg-blue-600/80 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-medium\">\n                      {item.media_type === 'movie' ? 'Movie' : 'TV'}\n                    </div>\n                  </div>\n\n                  <div className=\"mt-3\">\n                    <h3 className=\"font-medium text-sm leading-tight line-clamp-2 mb-1 text-white\">\n                      {title}\n                    </h3>\n                    <p className=\"text-gray-400 text-xs\">\n                      {year || 'Unknown'}\n                    </p>\n                  </div>\n                </Link>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/media/LikedRow.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { X, Heart, Star } from 'lucide-react';\nimport { likedStorage, WatchlistItem } from '@/lib/storage/watchlist';\n\nexport default function LikedRow() {\n  const [liked, setLiked] = useState<WatchlistItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Helper function to build TMDB image URLs\n  const buildTmdbImage = (path: string | null, size: string = 'w500'): string => {\n    if (!path) return '/placeholder-movie.jpg';\n    return `https://image.tmdb.org/t/p/${size}${path}`;\n  };\n\n  // Load liked items on component mount\n  useEffect(() => {\n    const loadLiked = () => {\n      const items = likedStorage.getLiked();\n      setLiked(items);\n      setLoading(false);\n    };\n\n    loadLiked();\n\n    // Listen for storage changes (when items are added/removed)\n    const handleStorageChange = () => {\n      loadLiked();\n    };\n\n    window.addEventListener('liked-updated', handleStorageChange);\n    return () => window.removeEventListener('liked-updated', handleStorageChange);\n  }, []);\n\n  // Remove from liked\n  const handleRemove = (id: number, mediaType: 'movie' | 'tv', event: React.MouseEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    likedStorage.removeFromLiked(id, mediaType);\n    setLiked(prev => prev.filter(item => !(item.id === id && item.media_type === mediaType)));\n    \n    // Dispatch custom event\n    window.dispatchEvent(new CustomEvent('liked-updated'));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"mb-10\">\n        <div className=\"px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-semibold text-white\">Liked Content</h2>\n          </div>\n          <div className=\"flex space-x-6 overflow-x-auto scrollbar-hide\">\n            {Array.from({ length: 8 }).map((_, i) => (\n              <div key={i} className=\"flex-shrink-0 w-48 animate-pulse\">\n                <div className=\"aspect-[2/3] bg-gray-800 rounded-lg mb-3\"></div>\n                <div className=\"h-4 bg-gray-800 rounded mb-2\"></div>\n                <div className=\"h-3 bg-gray-800 rounded w-2/3\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (liked.length === 0) {\n    return (\n      <div className=\"mb-10\">\n        <div className=\"px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-semibold text-white\">Liked Content</h2>\n          </div>\n          <div className=\"text-center py-12\">\n            <div className=\"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Heart className=\"w-8 h-8 text-gray-600\" />\n            </div>\n            <h3 className=\"text-lg font-medium text-white mb-2\">No liked content yet</h3>\n            <p className=\"text-gray-400\">Like movies and TV shows to see them here</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative group mb-10\">\n      <div className=\"px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-semibold text-white\">Liked Content</h2>\n          <span className=\"text-sm text-gray-400\">{liked.length} item{liked.length !== 1 ? 's' : ''}</span>\n        </div>\n\n        <div className=\"flex space-x-6 overflow-x-auto scrollbar-hide pb-4\">\n          {liked.map((item) => {\n            const title = item.media_type === 'movie' ? item.title : item.name;\n            const releaseDate = item.media_type === 'movie' ? item.release_date : item.first_air_date;\n            const year = releaseDate ? new Date(releaseDate).getFullYear() : null;\n\n            return (\n              <div key={`${item.media_type}-${item.id}`} className=\"flex-shrink-0 w-48 group/item\">\n                <Link href={`/${item.media_type}/${item.id}`} className=\"block\">\n                  <div className=\"relative aspect-[2/3] rounded-lg overflow-hidden bg-gray-800 shadow-lg group-hover/item:shadow-2xl transition-all duration-300 group-hover/item:scale-105\">\n                    <Image\n                      src={buildTmdbImage(item.poster_path, 'w500')}\n                      alt={title || 'Poster'}\n                      fill\n                      className=\"object-cover\"\n                      sizes=\"200px\"\n                    />\n\n                    {/* Remove Button */}\n                    <button\n                      onClick={(e) => handleRemove(item.id, item.media_type, e)}\n                      className=\"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full opacity-0 group-hover/item:opacity-100 transition-opacity duration-200 z-10\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n\n                    {/* Rating Badge */}\n                    {item.vote_average > 0 && (\n                      <div className=\"absolute top-2 left-2 bg-black/80 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1\">\n                        <Star className=\"w-3 h-3 text-yellow-400 fill-current\" />\n                        <span>{item.vote_average.toFixed(1)}</span>\n                      </div>\n                    )}\n\n                    {/* Liked Badge */}\n                    <div className=\"absolute bottom-2 left-2 bg-red-600/80 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1\">\n                      <Heart className=\"w-3 h-3 fill-current\" />\n                      <span>Liked</span>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-3\">\n                    <h3 className=\"font-medium text-sm leading-tight line-clamp-2 mb-1 text-white\">\n                      {title}\n                    </h3>\n                    <p className=\"text-gray-400 text-xs\">\n                      {year || 'Unknown'}\n                    </p>\n                  </div>\n                </Link>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}