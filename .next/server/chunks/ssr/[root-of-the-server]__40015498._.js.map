{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/bradflix/app/movies/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport Navbar from '../components/Navbar';\nimport MovieCard from '../components/MovieCard';\n\nconst TMDB_API_KEY = process.env.NEXT_PUBLIC_TMDB_API_KEY;\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [genres, setGenres] = useState([]);\n  const [selectedGenre, setSelectedGenre] = useState('');\n  const [sortBy, setSortBy] = useState('popularity.desc');\n  const [page, setPage] = useState(1);\n  const router = useRouter();\n\n  // Fetch genres on component mount\n  useEffect(() => {\n    fetchGenres();\n  }, []);\n\n  // Fetch movies when filters change\n  useEffect(() => {\n    fetchMovies();\n  }, [selectedGenre, sortBy, page]);\n\n  const fetchGenres = async () => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/genre/movie/list?api_key=${TMDB_API_KEY}`\n      );\n      const data = await response.json();\n      setGenres(data.genres);\n    } catch (error) {\n      console.error('Error fetching genres:', error);\n    }\n  };\n\n  const fetchMovies = async () => {\n    setLoading(true);\n    try {\n      let url = `${BASE_URL}/discover/movie?api_key=${TMDB_API_KEY}&sort_by=${sortBy}&page=${page}`;\n      \n      if (selectedGenre) {\n        url += `&with_genres=${selectedGenre}`;\n      }\n\n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (page === 1) {\n        setMovies(data.results);\n      } else {\n        setMovies(prev => [...prev, ...data.results]);\n      }\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGenreChange = (genreId) => {\n    setSelectedGenre(genreId);\n    setPage(1);\n  };\n\n  const handleSortChange = (sort) => {\n    setSortBy(sort);\n    setPage(1);\n  };\n\n  const loadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  return (\n    <>\n      <Head>\n        <title>Movies - Bradflix</title>\n        <meta name=\"description\" content=\"Discover and watch movies on Bradflix\" />\n      </Head>\n      \n      <Navbar />\n      \n      <div className=\"min-h-screen bg-black text-white\">\n        <div className=\"container mx-auto px-6 py-8\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <h1 className=\"text-4xl font-bold mb-6\">Movies</h1>\n            \n            {/* Filters */}\n            <div className=\"flex flex-wrap gap-4 mb-6\">\n              {/* Genre Filter */}\n              <div className=\"flex items-center gap-2\">\n                <label className=\"text-gray-300\">Genre:</label>\n                <select\n                  value={selectedGenre}\n                  onChange={(e) => handleGenreChange(e.target.value)}\n                  className=\"bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none\"\n                >\n                  <option value=\"\">All Genres</option>\n                  {genres.map(genre => (\n                    <option key={genre.id} value={genre.id}>\n                      {genre.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Sort Filter */}\n              <div className=\"flex items-center gap-2\">\n                <label className=\"text-gray-300\">Sort by:</label>\n                <select\n                  value={sortBy}\n                  onChange={(e) => handleSortChange(e.target.value)}\n                  className=\"bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none\"\n                >\n                  <option value=\"popularity.desc\">Most Popular</option>\n                  <option value=\"release_date.desc\">Latest</option>\n                  <option value=\"vote_average.desc\">Highest Rated</option>\n                  <option value=\"revenue.desc\">Highest Grossing</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Movies Grid */}\n          {loading && page === 1 ? (\n            <div className=\"flex justify-center items-center h-64\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : (\n            <>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6\">\n                {movies.map((movie) => (\n                  <MovieCard\n                    key={movie.id}\n                    id={movie.id}\n                    title={movie.title}\n                    posterPath={movie.poster_path}\n                    releaseDate={movie.release_date}\n                    rating={movie.vote_average}\n                    type=\"movie\"\n                  />\n                ))}\n              </div>\n\n              {/* Load More Button */}\n              <div className=\"flex justify-center mt-12\">\n                <button\n                  onClick={loadMore}\n                  disabled={loading}\n                  className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-semibold py-3 px-8 rounded-lg transition-colors\"\n                >\n                  {loading ? 'Loading...' : 'Load More'}\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}