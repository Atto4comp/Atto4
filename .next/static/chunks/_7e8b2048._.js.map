{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/bradflix/components/player/VideoPlayer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Play, Pause, Volume2, VolumeX, Maximize, X, RotateCcw } from 'lucide-react';\n\nconst VIDEO_EMBEDS = [\n  process.env.NEXT_PUBLIC_VIDEO_EMBED_1 || 'https://vidsrc.to/embed/movie/{id}',\n  process.env.NEXT_PUBLIC_VIDEO_EMBED_2 || '',\n  process.env.NEXT_PUBLIC_VIDEO_EMBED_3 || '',\n];\n\ninterface VideoPlayerProps {\n  mediaId: number;\n  mediaType: 'movie' | 'tv';\n  title: string;\n  season?: number;\n  episode?: number;\n  onClose: () => void;\n}\n\nexport default function VideoPlayer({\n  mediaId, mediaType, title, season, episode, onClose\n}: VideoPlayerProps) {\n  const [currentIdx, setCurrentIdx] = useState(0);\n  const [videoUrl, setVideoUrl] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n\n  // Build the url for each API\n  const buildUrl = (base: string) => {\n    if (!base) return '';\n    if (mediaType === 'movie')\n      return `${base}/movie/${mediaId}`;\n    if (mediaType === 'tv' && season && episode)\n      return `${base}/tv/${mediaId}/${season}/${episode}`;\n    return '';\n  };\n\n  // Try current index\n  useEffect(() => {\n    setLoading(true);\n    const base = VIDEO_EMBEDS[currentIdx];\n    const url = buildUrl(base);\n    setVideoUrl(url);\n    setError(null);\n    setLoading(false);\n    // eslint-disable-next-line\n  }, [currentIdx, mediaId, mediaType, season, episode]);\n\n  // Retry with next embed\n  const handleIframeError = () => {\n    if (currentIdx < VIDEO_EMBEDS.length - 1) {\n      setCurrentIdx(idx => idx + 1);\n    } else {\n      setError('No available video sources.');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black flex items-center justify-center\">\n      <button\n        onClick={onClose}\n        className=\"absolute top-4 right-4 z-10 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors\"\n      >\n        <X className=\"w-6 h-6\" />\n      </button>\n      <div className=\"absolute top-4 left-4 z-10\">\n        <h2 className=\"text-white text-xl font-bold\">{title}</h2>\n        <p className=\"text-gray-400 text-sm\">\n          Source: {VIDEO_EMBEDS[currentIdx]?.replace(/^https?:\\/\\//, '')}\n        </p>\n      </div>\n      {error && (\n        <div className=\"flex flex-col items-center gap-4 text-center max-w-md\">\n          <div className=\"text-red-500 text-6xl mb-4\">⚠️</div>\n          <h3 className=\"text-white text-xl font-bold\">Video Unavailable</h3>\n          <p className=\"text-gray-400\">{error}</p>\n          {currentIdx < VIDEO_EMBEDS.length - 1 && (\n            <button\n              onClick={() => setCurrentIdx(idx => idx + 1)}\n              className=\"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full transition-colors\"\n            >\n              <RotateCcw className=\"w-4 h-4\" />\n              Try Another Source\n            </button>\n          )}\n        </div>\n      )}\n      {videoUrl && !error && (\n        <div className=\"relative w-full h-full max-w-7xl max-h-full\">\n          <iframe\n            ref={iframeRef}\n            src={videoUrl}\n            title={`Watch ${title}`}\n            className=\"w-full h-full\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n            allowFullScreen\n            onError={handleIframeError}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;AAME;;AAJF;AACA;AAAA;;;AAHA;;;AAKA,MAAM,eAAe;IACnB,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;IACzC,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;IACzC,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;CAC1C;AAWc,SAAS,YAAY,KAEjB;QAFiB,EAClC,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAClC,GAFiB;QAkDjB;;IA/CjB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAE5C,6BAA6B;IAC7B,MAAM,WAAW,CAAC;QAChB,IAAI,CAAC,MAAM,OAAO;QAClB,IAAI,cAAc,SAChB,OAAO,AAAC,GAAgB,OAAd,MAAK,WAAiB,OAAR;QAC1B,IAAI,cAAc,QAAQ,UAAU,SAClC,OAAO,AAAC,GAAa,OAAX,MAAK,QAAiB,OAAX,SAAQ,KAAa,OAAV,QAAO,KAAW,OAAR;QAC5C,OAAO;IACT;IAEA,oBAAoB;IACpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,WAAW;YACX,MAAM,OAAO,YAAY,CAAC,WAAW;YACrC,MAAM,MAAM,SAAS;YACrB,YAAY;YACZ,SAAS;YACT,WAAW;QACX,2BAA2B;QAC7B;gCAAG;QAAC;QAAY;QAAS;QAAW;QAAQ;KAAQ;IAEpD,wBAAwB;IACxB,MAAM,oBAAoB;QACxB,IAAI,aAAa,aAAa,MAAM,GAAG,GAAG;YACxC,cAAc,CAAA,MAAO,MAAM;QAC7B,OAAO;YACL,SAAS;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;oBAAC,WAAU;;;;;;;;;;;0BAEf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,6LAAC;wBAAE,WAAU;;4BAAwB;6BAC1B,2BAAA,YAAY,CAAC,WAAW,cAAxB,+CAAA,yBAA0B,OAAO,CAAC,gBAAgB;;;;;;;;;;;;;YAG9D,uBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCAA6B;;;;;;kCAC5C,6LAAC;wBAAG,WAAU;kCAA+B;;;;;;kCAC7C,6LAAC;wBAAE,WAAU;kCAAiB;;;;;;oBAC7B,aAAa,aAAa,MAAM,GAAG,mBAClC,6LAAC;wBACC,SAAS,IAAM,cAAc,CAAA,MAAO,MAAM;wBAC1C,WAAU;;0CAEV,6LAAC,mNAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;YAMxC,YAAY,CAAC,uBACZ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,KAAK;oBACL,KAAK;oBACL,OAAO,AAAC,SAAc,OAAN;oBAChB,WAAU;oBACV,OAAM;oBACN,eAAe;oBACf,SAAS;;;;;;;;;;;;;;;;;AAMrB;GApFwB;KAAA","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","sources":["file:///home/flex/bradflix/node_modules/lucide-react/src/icons/rotate-ccw.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n];\n\n/**\n * @component @name RotateCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/rotate-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCcw = createLucideIcon('rotate-ccw', __iconNode);\n\nexport default RotateCcw;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAqD,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAClF;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,SAAA,CAAA,CAAA,2KAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,AAAiB,CAAA,AAAjB,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}}]
}