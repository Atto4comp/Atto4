{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/bradflix/app/watch/%5Bmediatype%5D/%5Bid%5D/page.tsx"],"sourcesContent":["// app/watch/[mediatype]/[id]/page.tsx\n'use client';\n\nimport { useParams, useRouter, useSearchParams } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport VideoPlayer from '@/components/player/VideoPlayer';\nimport { tmdbApi } from '@/lib/api/tmdb';\n\nexport default function WatchPage() {\n  const params = useParams();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [mediaData, setMediaData] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  const mediaType = params?.mediatype as 'movie' | 'tv';\n  const id = parseInt(params?.id as string);\n  \n  // Get season and episode from query params for TV shows\n  const season = parseInt(searchParams.get('season') || '1');\n  const episode = parseInt(searchParams.get('episode') || '1');\n\n  useEffect(() => {\n    // Hide body scroll for fullscreen experience\n    document.body.style.overflow = 'hidden';\n    \n    return () => {\n      document.body.style.overflow = 'auto';\n    };\n  }, []);\n\n  useEffect(() => {\n    async function loadMediaData() {\n      try {\n        let data;\n        if (mediaType === 'movie') {\n          data = await tmdbApi.getMovieDetails(id);\n        } else {\n          data = await tmdbApi.getTVShowDetails(id);\n        }\n        setMediaData(data);\n      } catch (error) {\n        console.error('Failed to load media:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    if (id && mediaType) {\n      loadMediaData();\n    }\n  }, [id, mediaType]);\n\n  const handleClose = () => {\n    router.back();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black flex items-center justify-center\">\n        <div className=\"text-white text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-2 border-white border-t-transparent mx-auto mb-4\"></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!mediaData) {\n    return (\n      <div className=\"fixed inset-0 bg-black flex items-center justify-center text-white\">\n        <div className=\"text-center\">\n          <h1 className=\"text-xl font-semibold mb-4\">Media not found</h1>\n          <button\n            onClick={handleClose}\n            className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded transition-colors\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const title = mediaData.title || mediaData.name;\n\n  return (\n    <VideoPlayer\n      mediaId={id}\n      mediaType={mediaType}\n      title={title}\n      season={mediaType === 'tv' ? season : undefined}\n      episode={mediaType === 'tv' ? episode : undefined}\n      onClose={handleClose}\n    />\n  );\n}\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;AAGtC;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAO;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,YAAY,mBAAA,6BAAA,OAAQ,SAAS;IACnC,MAAM,KAAK,SAAS,mBAAA,6BAAA,OAAQ,EAAE;IAE9B,wDAAwD;IACxD,MAAM,SAAS,SAAS,aAAa,GAAG,CAAC,aAAa;IACtD,MAAM,UAAU,SAAS,aAAa,GAAG,CAAC,cAAc;IAExD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,6CAA6C;YAC7C,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YAE/B;uCAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;8BAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,eAAe;gBACb,IAAI;oBACF,IAAI;oBACJ,IAAI,cAAc,SAAS;wBACzB,OAAO,MAAM,qHAAA,CAAA,UAAO,CAAC,eAAe,CAAC;oBACvC,OAAO;wBACL,OAAO,MAAM,qHAAA,CAAA,UAAO,CAAC,gBAAgB,CAAC;oBACxC;oBACA,aAAa;gBACf,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACzC,SAAU;oBACR,WAAW;gBACb;YACF;YAEA,IAAI,MAAM,WAAW;gBACnB;YACF;QACF;8BAAG;QAAC;QAAI;KAAU;IAElB,MAAM,cAAc;QAClB,OAAO,IAAI;IACb;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,IAAI,CAAC,WAAW;QACd,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,MAAM,QAAQ,UAAU,KAAK,IAAI,UAAU,IAAI;IAE/C,qBACE,6LAAC,uIAAA,CAAA,UAAW;QACV,SAAS;QACT,WAAW;QACX,OAAO;QACP,QAAQ,cAAc,OAAO,SAAS;QACtC,SAAS,cAAc,OAAO,UAAU;QACxC,SAAS;;;;;;AAGf;GAxFwB;;QACP,qIAAA,CAAA,YAAS;QACT,qIAAA,CAAA,YAAS;QACH,qIAAA,CAAA,kBAAe;;;KAHd","debugId":null}}]
}