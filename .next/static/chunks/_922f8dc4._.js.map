{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/api/tmdb.ts"],"sourcesContent":["import axios from 'axios';\nimport type { Movie, TVShow, Genre, MediaDetails } from './types';\n\nconst TMDB_BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = (process.env.NEXT_PUBLIC_TMDB_API_KEY || '').trim();\n\n// Warn at startup (non-fatal) so missing env doesn't crash the app on import\nif (!API_KEY) {\n  console.warn('[tmdb] WARNING: NEXT_PUBLIC_TMDB_API_KEY is not set. TMDB requests will fail until provided.');\n}\n\nconst tmdbClient = axios.create({\n  baseURL: TMDB_BASE_URL,\n  timeout: 20000,\n  headers: {\n    Accept: 'application/json',\n    'User-Agent': 'Bradfilx/1.0',\n  },\n});\n\n/**\n * Low-level request helper with retries and clear error classification.\n */\nasync function request<T = any>(\n  url: string,\n  params?: Record<string, any>,\n  maxRetries = 3\n): Promise<T> {\n  if (!API_KEY) {\n    throw new Error('Missing NEXT_PUBLIC_TMDB_API_KEY at runtime');\n  }\n\n  const requestParams = { api_key: API_KEY, ...(params || {}) };\n\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      const res = await tmdbClient.get<T>(url, { params: requestParams });\n      return res.data;\n    } catch (err: any) {\n      const isLastAttempt = attempt === maxRetries;\n      const status = err?.response?.status;\n      const statusText = err?.response?.statusText;\n      const serverMsg = err?.response?.data ? JSON.stringify(err.response.data).slice(0, 400) : '';\n\n      if (status === 404) {\n        throw new Error(`TMDB 404: resource not found (${url})`);\n      }\n      if (status === 401) {\n        throw new Error('TMDB 401: Invalid or unauthorized API key.');\n      }\n\n      const isNetworkError = !!err?.code && ['ENOTFOUND', 'ECONNABORTED', 'ECONNRESET', 'ETIMEDOUT'].includes(err.code);\n\n      if (isLastAttempt) {\n        let msg = `TMDB request failed (${url})`;\n        if (status) msg += ` status=${status}${statusText ? ` ${statusText}` : ''}`;\n        if (err.message) msg += ` message=${err.message}`;\n        if (serverMsg) msg += ` server=${serverMsg}`;\n        throw new Error(msg);\n      }\n\n      const delayMs = Math.pow(2, attempt - 1) * 500;\n      await new Promise((resolve) => setTimeout(resolve, delayMs));\n    }\n  }\n\n  throw new Error('Unexpected error in TMDB request retry loop');\n}\n\nexport const tmdbApi = {\n  async getTrending(timeWindow: 'day' | 'week' = 'week'): Promise<Movie[]> {\n    try {\n      const data = await request<{ results: Movie[] }>(`/trending/movie/${timeWindow}`);\n      return data.results || [];\n    } catch (error) {\n      console.warn('[tmdbApi] getTrending failed:', (error as Error).message);\n      return [];\n    }\n  },\n\n  async getTVTrending(timeWindow: 'day' | 'week' = 'week'): Promise<TVShow[]> {\n    try {\n      const data = await request<{ results: TVShow[] }>(`/trending/tv/${timeWindow}`);\n      return data.results || [];\n    } catch (error) {\n      console.warn('[tmdbApi] getTVTrending failed:', (error as Error).message);\n      return [];\n    }\n  },\n\n  async getPopularMovies(page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/movie/popular', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getPopularMovies failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getTopRatedMovies(page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/movie/top_rated', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getTopRatedMovies failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getUpcomingMovies(page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/movie/upcoming', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getUpcomingMovies failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getNowPlayingMovies(page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/movie/now_playing', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getNowPlayingMovies failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getPopularTVShows(page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/tv/popular', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getPopularTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getTopRatedTVShows(page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/tv/top_rated', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getTopRatedTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getOnTheAirTVShows(page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/tv/on_the_air', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getOnTheAirTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getAiringTodayTVShows(page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/tv/airing_today', { page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getAiringTodayTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getTVByCategory(category: string, page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      let endpoint = '/tv/popular';\n      switch (category) {\n        case 'popular':\n          endpoint = '/tv/popular';\n          break;\n        case 'top-rated':\n          endpoint = '/tv/top_rated';\n          break;\n        case 'on-the-air':\n          endpoint = '/tv/on_the_air';\n          break;\n        case 'airing-today':\n          endpoint = '/tv/airing_today';\n          break;\n        default:\n          endpoint = '/tv/popular';\n      }\n      const data = await request<{ results: TVShow[]; total_pages: number }>(endpoint, { page });\n      const filteredResults = (data.results || []).filter((item) => !!item.name && !!item.first_air_date);\n      return { results: filteredResults, total_pages: data.total_pages || 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getTVByCategory failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async discoverTVShows(params: {\n    page?: number;\n    genreId?: number;\n    sortBy?: string;\n    year?: number;\n    minRating?: number;\n  } = {}): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const requestParams: any = {\n        page: params.page || 1,\n        sort_by: params.sortBy || 'popularity.desc',\n        'vote_count.gte': 10,\n      };\n      if (params.genreId) requestParams.with_genres = params.genreId;\n      if (params.year) requestParams.first_air_date_year = params.year;\n      if (params.minRating) requestParams['vote_average.gte'] = params.minRating;\n\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/discover/tv', requestParams);\n      const filteredResults = (data.results || []).filter((show) => !!show.name && !!show.first_air_date);\n      return { results: filteredResults, total_pages: data.total_pages || 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] discoverTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getLatestReleases(mediaType: 'movie' | 'tv' = 'movie', page: number = 1, genreId?: number): Promise<{ results: any[]; total_pages: number }> {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const params: any = {\n        sort_by: mediaType === 'tv' ? 'first_air_date.desc' : 'release_date.desc',\n        page,\n        'vote_count.gte': 10,\n      };\n      if (mediaType === 'movie') params['release_date.lte'] = today;\n      if (mediaType === 'tv') params['first_air_date.lte'] = today;\n      if (genreId) params.with_genres = genreId;\n\n      const data = await request(`/discover/${mediaType}`, params);\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getLatestReleases failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async searchMulti(query: string, params?: { page?: number }): Promise<{ results: any[]; total_pages: number }> {\n    try {\n      const data = await request('/search/multi', { query, ...(params || {}) });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] searchMulti failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async searchMovies(query: string, page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/search/movie', { query, page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] searchMovies failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async searchTVShows(query: string, page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: TVShow[]; total_pages: number }>('/search/tv', { query, page });\n      const filteredResults = (data.results || []).filter((show) => !!show.name && !!show.first_air_date);\n      return { results: filteredResults, total_pages: data.total_pages || 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] searchTVShows failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getMovieDetails(id: number): Promise<MediaDetails | null> {\n    try {\n      const data = await request<MediaDetails>(`/movie/${id}`, {\n        append_to_response: 'credits,videos,similar,recommendations',\n      });\n      return data || null;\n    } catch (error) {\n      console.warn('[tmdbApi] getMovieDetails failed:', (error as Error).message);\n      return null;\n    }\n  },\n\n  async getTVShowDetails(id: number): Promise<MediaDetails | null> {\n    try {\n      const data = await request<MediaDetails>(`/tv/${id}`, {\n        append_to_response: 'credits,videos,similar,recommendations',\n      });\n      return data || null;\n    } catch (error) {\n      console.warn('[tmdbApi] getTVShowDetails failed:', (error as Error).message);\n      return null;\n    }\n  },\n\n  // NEW METHOD: Get detailed season information with episodes\n  async getTVSeasonDetails(tvId: number, seasonNumber: number): Promise<any | null> {\n    try {\n      const data = await request(`/tv/${tvId}/season/${seasonNumber}`, {\n        language: 'en-US',\n      });\n      return data || null;\n    } catch (error) {\n      console.warn(`[tmdbApi] getTVSeasonDetails failed for TV ${tvId} season ${seasonNumber}:`, (error as Error).message);\n      return null;\n    }\n  },\n\n  // NEW METHOD: Get specific episode details\n  async getTVEpisodeDetails(tvId: number, seasonNumber: number, episodeNumber: number): Promise<any | null> {\n    try {\n      const data = await request(`/tv/${tvId}/season/${seasonNumber}/episode/${episodeNumber}`, {\n        language: 'en-US',\n      });\n      return data || null;\n    } catch (error) {\n      console.warn(`[tmdbApi] getTVEpisodeDetails failed for TV ${tvId} S${seasonNumber}E${episodeNumber}:`, (error as Error).message);\n      return null;\n    }\n  },\n\n  async getMovieGenres(): Promise<Genre[]> {\n    try {\n      const data = await request<{ genres: Genre[] }>('/genre/movie/list');\n      return data.genres || [];\n    } catch (error) {\n      console.warn('[tmdbApi] getMovieGenres failed:', (error as Error).message);\n      return [];\n    }\n  },\n\n  async getTVGenres(): Promise<Genre[]> {\n    try {\n      const data = await request<{ genres: Genre[] }>('/genre/tv/list');\n      return data.genres || [];\n    } catch (error) {\n      console.warn('[tmdbApi] getTVGenres failed:', (error as Error).message);\n      return [];\n    }\n  },\n\n  async getAllGenres(): Promise<{ movieGenres: Genre[]; tvGenres: Genre[] }> {\n    try {\n      const [movieGenres, tvGenres] = await Promise.all([this.getMovieGenres(), this.getTVGenres()]);\n      return { movieGenres, tvGenres };\n    } catch (error) {\n      console.warn('[tmdbApi] getAllGenres failed:', (error as Error).message);\n      return { movieGenres: [], tvGenres: [] };\n    }\n  },\n\n  async getMoviesByGenre(genreId: number, page: number = 1): Promise<{ results: Movie[]; total_pages: number }> {\n    try {\n      const data = await request<{ results: Movie[]; total_pages: number }>('/discover/movie', { with_genres: genreId, page });\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] getMoviesByGenre failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async getTVShowsByGenre(genreId: number, page: number = 1): Promise<{ results: TVShow[]; total_pages: number }> {\n    try {\n      return await this.discoverTVShows({ page, genreId, sortBy: 'popularity.desc' });\n    } catch (error) {\n      console.warn('[tmdbApi] getTVShowsByGenre failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async discover(mediaType: 'movie' | 'tv', sortBy = 'popularity.desc', page = 1, genreId?: number): Promise<{ results: any[]; total_pages: number }> {\n    try {\n      const params: any = { sort_by: sortBy, page };\n      if (genreId) params.with_genres = genreId;\n      const data = await request(`/discover/${mediaType}`, params);\n      return data || { results: [], total_pages: 0 };\n    } catch (error) {\n      console.warn('[tmdbApi] discover failed:', (error as Error).message);\n      return { results: [], total_pages: 0 };\n    }\n  },\n\n  async testConnection(): Promise<{ success: boolean; message: string }> {\n    try {\n      const data = await request('/configuration');\n      if (data && data.images) {\n        return { success: true, message: 'Connected successfully to TMDB API' };\n      }\n      return { success: false, message: 'Unexpected response from TMDB configuration' };\n    } catch (error: any) {\n      return { success: false, message: error.message || 'Unknown connection error' };\n    }\n  },\n\n  /* -----------------------------------------------------------\n   *  Unified helper so components never guess the media type.\n   *  Usage: await tmdbApi.getDetails(id, 'movie' | 'tv')\n   * ----------------------------------------------------------*/\n  async getDetails(id: number, type: 'movie' | 'tv') {\n    return type === 'movie'\n      ? this.getMovieDetails(id)\n      : this.getTVShowDetails(id);\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n}\n\nexport function formatRuntime(minutes: number): string {\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\n}\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\nexport function getImageUrl(path: string, size: string = 'w500'): string {\n  if (!path) return '/placeholder-movie.jpg';\n  return `https://image.tmdb.org/t/m/${size}${path}`;\n}\n\nexport function truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) return text;\n  return text.slice(0, maxLength).trim() + '...';\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS,WAAW,UAAkB;IAC3C,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAEO,SAAS,cAAc,OAAe;IAC3C,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,UAAU;IACvB,OAAO,QAAQ,IAAI,AAAC,GAAY,OAAV,OAAM,MAAS,OAAL,MAAK,OAAK,AAAC,GAAO,OAAL,MAAK;AACpD;AAEO,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,YAAY,IAAY;QAAE,OAAA,iEAAe;IACvD,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,AAAC,8BAAoC,OAAP,MAAY,OAAL;AAC9C;AAEO,SAAS,aAAa,IAAY,EAAE,SAAiB;IAC1D,IAAI,KAAK,MAAM,IAAI,WAAW,OAAO;IACrC,OAAO,KAAK,KAAK,CAAC,GAAG,WAAW,IAAI,KAAK;AAC3C","debugId":null}},
    {"offset": {"line": 614, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-white text-black hover:bg-gray-100 shadow-lg hover:shadow-xl\",\n        primary: \"bg-blue-500 text-white hover:bg-blue-600 shadow-lg hover:shadow-xl\",\n        secondary: \"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700\",\n        ghost: \"hover:bg-white/10 text-white\",\n        glass: \"glass text-white hover:bg-white/10\",\n      },\n      size: {\n        default: \"h-12 px-6 py-2\",\n        sm: \"h-10 px-4\",\n        lg: \"h-14 px-8\",\n        icon: \"h-12 w-12\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,sNACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SAAS;YACT,WAAW;YACX,OAAO;YACP,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 681, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/common/SearchBar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Search, X } from 'lucide-react';\nimport { tmdbApi } from '@/lib/api/tmdb';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\n\ninterface SearchBarProps {\n  onClose?: () => void;\n}\n\nexport default function SearchBar({ onClose }: SearchBarProps) {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState<any[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  useEffect(() => {\n    const searchTimeout = setTimeout(async () => {\n      if (query.trim().length > 2) {\n        setIsLoading(true);\n        try {\n          const searchResults = await tmdbApi.searchMulti(query);\n          setResults(searchResults.results?.slice(0, 8) || []);\n          setShowResults(true);\n        } catch (error) {\n          console.error('Search error:', error);\n          setResults([]);\n        } finally {\n          setIsLoading(false);\n        }\n      } else {\n        setResults([]);\n        setShowResults(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(searchTimeout);\n  }, [query]);\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      router.push(`/search?q=${encodeURIComponent(query)}`);\n      onClose?.();\n    }\n  };\n\n  return (\n    <div className=\"relative w-full max-w-2xl mx-auto\">\n      <form onSubmit={handleSearch}>\n        <div className=\"relative\">\n          <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder=\"Search movies, TV shows...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className=\"w-full bg-gray-900/80 border border-gray-700 rounded-full pl-12 pr-12 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n          {onClose && (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white\"\n              onClick={onClose}\n            >\n              <X className=\"h-5 w-5\" />\n            </Button>\n          )}\n        </div>\n      </form>\n\n      {/* Search Results Dropdown */}\n      {showResults && (\n        <div className=\"absolute top-full left-0 right-0 mt-2 bg-gray-900/95 backdrop-blur-lg border border-gray-700 rounded-xl shadow-2xl z-50 max-h-96 overflow-y-auto\">\n          {isLoading ? (\n            <div className=\"p-4 text-center text-gray-400\">\n              Searching...\n            </div>\n          ) : results.length > 0 ? (\n            <div className=\"py-2\">\n              {results.map((item) => {\n                // Safe image URL building that matches next.config.ts\n                const posterUrl = item.poster_path \n                  ? `https://image.tmdb.org/t/p/w92${item.poster_path}`\n                  : '/placeholder-movie.jpg';\n\n                return (\n                  <Link\n                    key={item.id}\n                    href={`/${item.media_type}/${item.id}`}\n                    className=\"flex items-center space-x-3 px-4 py-3 hover:bg-gray-800/50 transition-colors\"\n                    onClick={onClose}\n                  >\n                    <div className=\"w-12 h-16 relative flex-shrink-0 bg-gray-800 rounded overflow-hidden\">\n                      <Image\n                        src={posterUrl}\n                        alt={item.title || item.name || 'Movie poster'}\n                        fill\n                        className=\"object-cover\"\n                        sizes=\"48px\"\n                        onError={(e) => {\n                          // Fallback to placeholder on error\n                          e.currentTarget.src = '/placeholder-movie.jpg';\n                        }}\n                      />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-white font-medium truncate\">\n                        {item.title || item.name}\n                      </h3>\n                      <p className=\"text-gray-400 text-sm\">\n                        {item.media_type === 'movie' ? 'Movie' : 'TV Show'} • {' '}\n                        {item.release_date || item.first_air_date ? \n                          new Date(item.release_date || item.first_air_date).getFullYear() : \n                          'N/A'\n                        }\n                      </p>\n                    </div>\n                    <div className=\"text-yellow-400 text-sm flex items-center\">\n                      <span className=\"text-yellow-400 mr-1\">★</span>\n                      {item.vote_average?.toFixed(1) || 'N/A'}\n                    </div>\n                  </Link>\n                );\n              })}\n            </div>\n          ) : (\n            <div className=\"p-4 text-center text-gray-400\">\n              No results found\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 949, "column": 0}, "map": {"version":3,"sources":["file:///home/flex/Atto4/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Image from 'next/image';\nimport { Search, Menu, User, Home, Film, Tv, Grid3X3, X } from 'lucide-react';\nimport SearchBar from '@/components/common/SearchBar';\n\nconst navigationItems = [\n  { href: '/', label: 'Home', icon: Home },\n  { href: '/movies', label: 'Movies', icon: Film },\n  { href: '/tvshows', label: 'TV Shows', icon: Tv },\n  { href: '/genres', label: 'Genres', icon: Grid3X3 },\n];\n\nexport default function Header() {\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const handleScroll = () => setScrolled(window.scrollY > 90);\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    handleScroll();\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    setIsMobileMenuOpen(false);\n    setIsSearchOpen(false);\n  }, [pathname]);\n\n  return (\n    <>\n      <header\n        className={`fixed top-0 left-0 right-0 z-50 transition-all duration-450 ${\n          scrolled ? 'header-visible' : 'header-invisible'\n        }`}\n        aria-label=\"Main Navigation\"\n      >\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            {/* Logo */}\n            <Link href=\"/\" className=\"logo-ghost group\" aria-label=\"Home\">\n              <div className=\"logo-icon\">\n                <div className=\"logo-background\" />\n                <Image src=\"/logo.png\" alt=\"Atto4 Logo\" fill className=\"object-cover\" priority />\n              </div>\n              <div className=\"logo-content\">\n                <span className=\"logo-name font-chillax\">Atto4</span>\n                <span className=\"logo-tagline\">Stream. Discover.</span>\n              </div>\n            </Link>\n\n            {/* Desktop Nav */}\n            <nav className=\"nav-phantom hidden md:flex items-center gap-2\">\n              {navigationItems.map((item) => {\n                const Icon = item.icon;\n                const isActive = pathname === item.href;\n                return (\n                  <Link key={item.href} href={item.href} className=\"nav-ghost-link\">\n                    <div className={`nav-phantom-item ${isActive ? 'phantom-active' : 'phantom-inactive'}`}>\n                      <Icon className=\"phantom-icon\" />\n                      <span className=\"phantom-text font-chillax\">{item.label}</span>\n                    </div>\n                  </Link>\n                );\n              })}\n            </nav>\n\n            {/* Actions */}\n            <div className=\"actions-ghost flex items-center gap-2\">\n              {/* Search (smaller button) */}\n              <button\n                onClick={() => setIsSearchOpen((s) => !s)}\n                className={`ghost-action ${isSearchOpen ? 'ghost-active' : 'ghost-inactive'}`}\n                aria-pressed={isSearchOpen}\n                aria-label=\"Toggle search\"\n              >\n                <Search className=\"ghost-icon\" />\n              </button>\n\n              {/* Login */}\n              <button\n                onClick={() => router.push('/login')}\n                className=\"ghost-action ghost-inactive\"\n                aria-label=\"Login\"\n              >\n                <User className=\"ghost-icon\" />\n              </button>\n\n              {/* Mobile toggle */}\n              <button\n                onClick={() => setIsMobileMenuOpen((s) => !s)}\n                className={`ghost-action md:hidden ${isMobileMenuOpen ? 'ghost-active ghost-rotate' : 'ghost-inactive'}`}\n                aria-expanded={isMobileMenuOpen}\n                aria-label=\"Toggle menu\"\n              >\n                {isMobileMenuOpen ? <X className=\"ghost-icon\" /> : <Menu className=\"ghost-icon\" />}\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Compact Search */}\n      <div className={`search-phantom ${isSearchOpen ? 'search-visible' : 'search-hidden'}`}>\n        <div className=\"search-wrapper\">\n          <div className=\"search-glass\">\n            <SearchBar onClose={() => setIsSearchOpen(false)} />\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile menu */}\n      {isMobileMenuOpen && (\n        <div className=\"mobile-phantom\" role=\"dialog\" aria-modal=\"true\">\n          <div className=\"mobile-backdrop-ghost\" onClick={() => setIsMobileMenuOpen(false)} />\n          <div className=\"mobile-menu-ghost\">\n            <div className=\"mobile-header-ghost\">\n              <button onClick={() => setIsMobileMenuOpen(false)} className=\"mobile-close-ghost\" aria-label=\"Close menu\">\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n            <div className=\"mobile-nav-ghost\">\n              {navigationItems.map((item, index) => {\n                const Icon = item.icon;\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                    className={`mobile-item-ghost ${isActive ? 'mobile-active' : 'mobile-inactive'}`}\n                    style={{ animationDelay: `${index * 0.06}s` }}\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    <span className=\"font-chillax mobile-text-ghost\">{item.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}